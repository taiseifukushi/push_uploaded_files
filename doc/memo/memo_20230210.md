
## gcloudを使ったデプロイ方法

```bash
gcloud functions deploy nodejs-finalize-function \
--gen2 \
--runtime=nodejs18 \
--region=asia-northeast1 \
--source=./out/src/index.js \
--entry-point=helloGCS \
--trigger-event-filters="type=google.cloud.storage.object.v1.finalized" \
--trigger-event-filters="bucket=husita-h-sandbox-01-cloudstorage-01"
```

```bash
gcloud functions deploy nodejs-finalize-function \
--gen2 \
--runtime=nodejs18 \
--region=asia-northeast1 \
--entry-point=helloPubSub \
--trigger-event-filters="type=google.cloud.storage.object.v1.finalized" \
--trigger-event-filters="bucket=husita-h-sandbox-01-cloudstorage-01"
```

```bash
gcloud auth configure-docker
docker build -t gcr.io/$GOOGLE_CLOUD_PROJECT/push_to_repo .
docker push gcr.io/$GOOGLE_CLOUD_PROJECT/push_to_repo
gcloud run deploy push_to_repo --image gcr.io/husita-h-sandbox-01/push_to_repo \
--region=asia-northeast1 \
--trigger-event-filters="type=google.cloud.storage.object.v1.finalized" \
--trigger-event-filters="bucket=husita-h-sandbox-01-cloudstorage-01"
```